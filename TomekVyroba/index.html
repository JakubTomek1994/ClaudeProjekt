<!DOCTYPE html>
<html lang="cs" class="scroll-smooth">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>TOMEK výroba s.r.o. — Průmyslová výroba na míru</title>
  <meta name="description" content="TOMEK výroba s.r.o. — laserové pálení, ohýbání, CNC obrábění, laserové svařování a povrchové úpravy. Kusová i sériová výroba dílců dle dokumentace.">
  <link rel="icon" type="image/png" href="LOGO/logo.png">
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
  <style>
    :root {
      --color-primary: #e1142e;
      --color-primary-hover: #b8101f;
      --color-primary-light: #ff2d47;
      --color-bg-dark: #292929;
      --color-bg-dark-alt: #3a3a3a;
      --color-bg-dark-card: #4a4a4a;
      --color-text-light: #e5e5e5;
    }

    .section-heading {
      opacity: 0;
      transform: translateY(30px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .section-heading.visible {
      opacity: 1;
      transform: translateY(0);
    }
    .section-heading .heading-line {
      width: 0;
      transition: width 0.6s ease-out 0.3s;
    }
    .section-heading.visible .heading-line {
      width: 4rem;
    }

    .nav-link.active {
      color: var(--color-primary);
    }

    .hamburger.open .hamburger-line:nth-child(1) {
      transform: translateY(0.5rem) rotate(45deg);
    }
    .hamburger.open .hamburger-line:nth-child(2) {
      opacity: 0;
    }
    .hamburger.open .hamburger-line:nth-child(3) {
      transform: translateY(-0.5rem) rotate(-45deg);
    }

    .slide-in {
      opacity: 0;
      transform: translateY(40px);
      transition: opacity 0.6s ease-out, transform 0.6s ease-out;
    }
    .slide-in.visible {
      opacity: 1;
      transform: translateY(0);
    }

    @keyframes fadeSlideLeft {
      from { opacity: 0; transform: translateX(-40px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeSlideRight {
      from { opacity: 0; transform: translateX(40px); }
      to { opacity: 1; transform: translateX(0); }
    }
    @keyframes fadeUp {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .hero-fade-left {
      opacity: 0;
      animation: fadeSlideLeft 0.7s ease-out forwards;
    }
    .hero-fade-right {
      opacity: 0;
      animation: fadeSlideRight 0.7s ease-out forwards;
    }
    .hero-fade-up {
      opacity: 0;
      animation: fadeUp 0.6s ease-out forwards;
    }

    /* Modal animations */
    @keyframes modalOverlayIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }
    @keyframes modalOverlayOut {
      from { opacity: 1; }
      to { opacity: 0; }
    }
    @keyframes modalBoxIn {
      from { opacity: 0; transform: scale(0.9) translateY(20px); }
      to { opacity: 1; transform: scale(1) translateY(0); }
    }
    @keyframes modalBoxOut {
      from { opacity: 1; transform: scale(1) translateY(0); }
      to { opacity: 0; transform: scale(0.9) translateY(20px); }
    }
    #contact-modal-overlay {
      animation: modalOverlayIn 0.25s ease-out forwards;
    }
    #contact-modal-overlay.closing {
      animation: modalOverlayOut 0.2s ease-in forwards;
    }
    #contact-modal-box {
      animation: modalBoxIn 0.3s ease-out forwards;
    }
    #contact-modal-overlay.closing #contact-modal-box {
      animation: modalBoxOut 0.2s ease-in forwards;
    }

    /* File upload zone */
    .upload-zone {
      border: 2px dashed rgba(255,255,255,0.2);
      transition: border-color 0.2s, background-color 0.2s;
    }
    .upload-zone:hover,
    .upload-zone.dragover {
      border-color: var(--color-primary);
      background-color: rgba(225,20,46,0.05);
    }
  </style>
  <style type="text/tailwindcss">
    @theme {
      --color-brand: #e1142e;
      --color-brand-hover: #b8101f;
      --color-brand-light: #ff2d47;
      --color-dark: #292929;
      --color-dark-alt: #3a3a3a;
      --color-dark-card: #4a4a4a;
      --color-light: #e5e5e5;
    }
  </style>
</head>
<body class="bg-dark text-light font-sans antialiased">

  <!-- ========== NAVIGACE ========== -->
  <header class="sticky top-0 z-50 bg-dark/80 backdrop-blur-md border-b border-white/10">
    <nav class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 flex items-center justify-between h-16" aria-label="Hlavní navigace">
      <!-- Logo -->
      <a href="#hero" class="flex items-center gap-3 group">
        <img src="LOGO/logo.png" alt="TOMEK výroba s.r.o. logo" class="w-9 h-9 rounded-md">
        <span class="text-light font-semibold text-sm sm:text-base">TOMEK výroba s.r.o.</span>
      </a>

      <!-- Desktop nav -->
      <ul class="hidden lg:flex items-center gap-8 text-sm">
        <li><a href="#about" class="nav-link text-light/70 hover:text-white transition-colors">O společnosti</a></li>
        <li><a href="#machines" class="nav-link text-light/70 hover:text-white transition-colors">Naše stroje</a></li>
        <li><a href="#grants" class="nav-link text-light/70 hover:text-white transition-colors">Dotační programy</a></li>
        <li>
          <a href="#contact" class="inline-block px-5 py-2 bg-brand hover:bg-brand-hover text-white text-sm font-medium rounded-md transition-colors">
            Kontakt
          </a>
        </li>
      </ul>

      <!-- Hamburger -->
      <button
        id="menu-toggle"
        class="hamburger lg:hidden p-2 text-light/70 hover:text-white transition-colors"
        aria-label="Otevřít menu"
        aria-expanded="false"
        aria-controls="mobile-menu"
      >
        <div class="w-6 h-5 relative flex flex-col justify-between">
          <span class="hamburger-line block h-0.5 w-full bg-current rounded transition-all duration-300 origin-center"></span>
          <span class="hamburger-line block h-0.5 w-full bg-current rounded transition-all duration-300 origin-center"></span>
          <span class="hamburger-line block h-0.5 w-full bg-current rounded transition-all duration-300 origin-center"></span>
        </div>
      </button>
    </nav>

    <!-- Mobile menu -->
    <div id="mobile-menu" class="hidden lg:hidden border-t border-white/10 bg-dark/95 backdrop-blur-md">
      <ul class="flex flex-col px-4 py-4 gap-3 text-sm">
        <li><a href="#about" class="block py-2 text-light/70 hover:text-white transition-colors" onclick="closeMobileMenu()">O společnosti</a></li>
        <li><a href="#machines" class="block py-2 text-light/70 hover:text-white transition-colors" onclick="closeMobileMenu()">Naše stroje</a></li>
        <li><a href="#grants" class="block py-2 text-light/70 hover:text-white transition-colors" onclick="closeMobileMenu()">Dotační programy</a></li>
        <li>
          <a href="#contact" class="inline-block px-5 py-2 bg-brand hover:bg-brand-hover text-white text-sm font-medium rounded-md transition-colors" onclick="closeMobileMenu()">
            Kontakt
          </a>
        </li>
      </ul>
    </div>
  </header>

  <main>

    <!-- ========== HERO ========== -->
    <section id="hero" class="relative min-h-[90vh] flex flex-col justify-center overflow-hidden">
      <!-- Background grid -->
      <div id="hero-bg" class="absolute inset-0 will-change-transform" style="background-image: linear-gradient(rgba(255,255,255,0.03) 1px, transparent 1px), linear-gradient(90deg, rgba(255,255,255,0.03) 1px, transparent 1px); background-size: 60px 60px;"></div>
      <!-- Diagonal decorative line -->
      <div id="hero-lines" class="absolute inset-0 overflow-hidden pointer-events-none will-change-transform">
        <div class="absolute -top-20 -right-20 w-[600px] h-[1px] bg-brand/15 rotate-[35deg] origin-top-right"></div>
        <div class="absolute top-1/3 -left-10 w-[400px] h-[1px] bg-brand/10 rotate-[-25deg]"></div>
      </div>

      <!-- Main content: split layout -->
      <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 w-full flex-1 flex items-center pt-8 lg:pt-0">
        <div class="w-full flex flex-col-reverse lg:flex-row items-center gap-10 lg:gap-16">

          <!-- LEFT: Text content -->
          <div class="lg:w-[55%] text-center lg:text-left">
            <!-- Accent bar -->
            <div class="hero-fade-left mx-auto lg:mx-0 w-[60px] h-[4px] bg-brand rounded-full mb-6" style="animation-delay: 0s;"></div>
            <!-- Heading -->
            <h1 class="hero-fade-left text-4xl sm:text-5xl lg:text-6xl xl:text-7xl font-extrabold leading-tight mb-6" style="animation-delay: 0.15s;">
              Průmyslová výroba<br>
              <span class="text-brand">na míru</span>
            </h1>
            <!-- Subtitle -->
            <p class="hero-fade-left text-light/60 text-lg sm:text-xl max-w-xl mx-auto lg:mx-0 mb-8" style="animation-delay: 0.3s;">
              Laserové pálení, ohýbání, CNC obrábění, svařování a povrchové úpravy. Kusová i sériová výroba dílců dle vaší dokumentace.
            </p>
            <!-- CTA buttons -->
            <div class="hero-fade-left flex flex-col sm:flex-row items-center gap-4 justify-center lg:justify-start" style="animation-delay: 0.45s;">
              <button onclick="openContactModal()" class="inline-block px-8 py-3.5 bg-brand hover:bg-brand-hover text-white font-semibold rounded-md transition-colors text-lg cursor-pointer">
                Kontaktujte nás
              </button>
              <a href="#machines" class="inline-flex items-center gap-2 px-8 py-3.5 border-2 border-brand text-brand hover:bg-brand hover:text-white font-semibold rounded-md transition-colors text-lg">
                Naše stroje
                <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7l5 5m0 0l-5 5m5-5H6"/></svg>
              </a>
            </div>
          </div>

          <!-- RIGHT: Machine image -->
          <div class="hero-fade-right lg:w-[45%] relative flex items-center justify-center" style="animation-delay: 0.3s;">
            <!-- Red glow behind image -->
            <div class="absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 w-[110%] h-[110%] rounded-full opacity-20" style="background: radial-gradient(circle, var(--color-primary) 0%, transparent 65%);"></div>
            <div class="relative z-10 w-full max-w-lg lg:max-w-xl xl:max-w-2xl">
              <img src="Obrázky/kombinace-strojuu.png" alt="Průmyslová výroba — laserové řezání, soustružení, frézování a ohýbání" class="w-full scale-110" style="-webkit-mask-image: radial-gradient(ellipse 70% 65% at 50% 45%, black 25%, transparent 90%); mask-image: radial-gradient(ellipse 70% 65% at 50% 45%, black 25%, transparent 90%);">
            </div>
          </div>

        </div>
      </div>

      <!-- STATS BAR -->
      <div class="relative z-10 w-full border-t border-white/10 mt-auto">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
          <div class="grid grid-cols-2 lg:grid-cols-4 gap-6 lg:gap-8">
            <div class="hero-fade-up text-center" style="animation-delay: 0.6s;">
              <p class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-brand" data-count-target="5" data-count-suffix="+">0</p>
              <p class="text-light/50 text-base mt-2">CNC strojů</p>
            </div>
            <div class="hero-fade-up text-center" style="animation-delay: 0.7s;">
              <p class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-brand" data-count-target="5" data-count-suffix="">0</p>
              <p class="text-light/50 text-base mt-2">Výrobních technologií</p>
            </div>
            <div class="hero-fade-up text-center" style="animation-delay: 0.8s;">
              <p class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-brand" data-count-target="100" data-count-suffix=" %">0</p>
              <p class="text-light/50 text-base mt-2">Dle vaší dokumentace</p>
            </div>
            <div class="hero-fade-up text-center" style="animation-delay: 0.9s;">
              <p class="text-4xl sm:text-5xl lg:text-6xl font-extrabold text-brand" data-count-target="24" data-count-suffix=" h">0</p>
              <p class="text-light/50 text-base mt-2">Rychlá kalkulace</p>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- ========== O SPOLEČNOSTI ========== -->
    <section id="about" class="py-20 lg:py-28">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="section-heading text-center mb-6">
          <h2 class="text-3xl sm:text-4xl font-bold">O společnosti</h2>
          <div class="heading-line h-0.5 bg-brand mx-auto mt-3"></div>
        </div>
        <p class="text-light/60 text-center max-w-3xl mx-auto mb-16 text-lg leading-relaxed">
          Firma TOMEK výroba s.r.o. se specializuje na výrobu dílců dle výkresové dokumentace zákazníka.
          Nabízíme přátelský přístup, rychlé dodací lhůty a flexibilní řešení jak pro kusovou, tak sériovou výrobu.
        </p>

        <!-- Karty služeb -->
        <div class="grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-5 gap-6">

          <!-- Laserové pálení -->
          <div class="slide-in group bg-dark-alt border border-white/10 rounded-xl p-6 hover:border-brand hover:-translate-y-2 hover:shadow-lg hover:shadow-brand/10 transition-all duration-300">
            <div class="w-12 h-12 mb-4 text-brand group-hover:scale-110 transition-transform duration-300">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full">
                <circle cx="24" cy="24" r="4"/>
                <path d="M24 4v8M24 36v8M4 24h8M36 24h8" stroke-linecap="round"/>
                <path d="M10 10l6 6M32 32l6 6M10 38l6-6M32 16l6-6" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">Laserové pálení</h3>
            <p class="text-light/50 text-sm leading-relaxed">Přesné řezání plechů laserovým paprskem s minimálními tolerancemi a čistými hranami.</p>
          </div>

          <!-- Ohýbání -->
          <div class="slide-in group bg-dark-alt border border-white/10 rounded-xl p-6 hover:border-brand hover:-translate-y-2 hover:shadow-lg hover:shadow-brand/10 transition-all duration-300" style="transition-delay:100ms">
            <div class="w-12 h-12 mb-4 text-brand group-hover:scale-110 transition-transform duration-300">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full">
                <path d="M8 36h12c4 0 6-2 6-6V18c0-4 2-6 6-6h8" stroke-linecap="round"/>
                <path d="M36 6l6 6-6 6" stroke-linecap="round" stroke-linejoin="round"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">Ohýbání</h3>
            <p class="text-light/50 text-sm leading-relaxed">Přesné ohýbání plechů na CNC ohraňovacích lisech dle výkresové dokumentace.</p>
          </div>

          <!-- CNC obrábění -->
          <div class="slide-in group bg-dark-alt border border-white/10 rounded-xl p-6 hover:border-brand hover:-translate-y-2 hover:shadow-lg hover:shadow-brand/10 transition-all duration-300" style="transition-delay:200ms">
            <div class="w-12 h-12 mb-4 text-brand group-hover:scale-110 transition-transform duration-300">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full">
                <rect x="8" y="8" width="32" height="32" rx="4"/>
                <circle cx="24" cy="24" r="8"/>
                <circle cx="24" cy="24" r="2"/>
                <path d="M24 16v-4M24 36v-4M16 24h-4M36 24h-4" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">CNC obrábění</h3>
            <p class="text-light/50 text-sm leading-relaxed">Soustružení a frézování kovových dílců na moderních CNC strojích s vysokou přesností.</p>
          </div>

          <!-- Laserové svařování -->
          <div class="slide-in group bg-dark-alt border border-white/10 rounded-xl p-6 hover:border-brand hover:-translate-y-2 hover:shadow-lg hover:shadow-brand/10 transition-all duration-300" style="transition-delay:300ms">
            <div class="w-12 h-12 mb-4 text-brand group-hover:scale-110 transition-transform duration-300">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full">
                <path d="M24 6v14" stroke-linecap="round"/>
                <path d="M18 20h12l-2 8h-8l-2-8z"/>
                <path d="M22 28l-4 14M26 28l4 14" stroke-linecap="round"/>
                <circle cx="24" cy="34" r="2"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">Laserové svařování</h3>
            <p class="text-light/50 text-sm leading-relaxed">Přesné svařování laserem s minimálním tepelným ovlivněním okolního materiálu.</p>
          </div>

          <!-- Povrchové úpravy -->
          <div class="slide-in group bg-dark-alt border border-white/10 rounded-xl p-6 hover:border-brand hover:-translate-y-2 hover:shadow-lg hover:shadow-brand/10 transition-all duration-300" style="transition-delay:400ms">
            <div class="w-12 h-12 mb-4 text-brand group-hover:scale-110 transition-transform duration-300">
              <svg viewBox="0 0 48 48" fill="none" stroke="currentColor" stroke-width="2" class="w-full h-full">
                <path d="M12 38c0-8 6-10 6-18a6 6 0 1 1 12 0c0 8 6 10 6 18" stroke-linecap="round"/>
                <path d="M12 38h24" stroke-linecap="round"/>
                <path d="M16 42h16" stroke-linecap="round"/>
                <path d="M20 14l-4-4M28 14l4-4" stroke-linecap="round"/>
              </svg>
            </div>
            <h3 class="text-lg font-semibold mb-2">Povrchové úpravy</h3>
            <p class="text-light/50 text-sm leading-relaxed">Tryskání, lakování a další povrchové úpravy pro kompletní finalizaci vašich dílců.</p>
          </div>

        </div>
      </div>
    </section>

    <!-- Divider: about → machines -->
    <div class="relative h-12 md:h-20 bg-dark-alt/50">
      <svg class="absolute top-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 1200 120">
        <path d="M1200,0 L0,0 L0,120 Z" fill="var(--color-bg-dark)"/>
      </svg>
    </div>

    <!-- ========== NAŠE STROJE ========== -->
    <section id="machines" class="py-20 lg:py-28 bg-dark-alt/50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="section-heading text-center mb-6">
          <h2 class="text-3xl sm:text-4xl font-bold">Naše stroje</h2>
          <div class="heading-line h-0.5 bg-brand mx-auto mt-3"></div>
        </div>
        <p class="text-light/60 text-center max-w-2xl mx-auto mb-16">
          Moderní strojový park pro zajištění maximální kvality a přesnosti výroby.
        </p>

        <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">

          <!-- Stroj 1 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 0ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/laser-amada.png" alt="Laserový řezací stroj Amada ENSIS 3015 AJ" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">Amada ENSIS 3015 AJ</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Výkon: <span class="text-light/80 font-medium">6 kW</span> fiber laser</span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Formát plechu: <span class="text-light/80 font-medium">3 000 × 1 500 mm</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Max. tloušťka: ocel <span class="text-light/80 font-medium">25 mm</span> · hliník <span class="text-light/80 font-medium">25 mm</span> · měď <span class="text-light/80 font-medium">12 mm</span></span></li>
              </ul>
            </div>
          </div>

          <!-- Stroj 2 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 100ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/soustruh-Hi-Tech_230AL_YSMC.png" alt="CNC soustruh Hwacheon Hi-Tech 230AL YSMC" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">Hwacheon Hi-TECH 230AL YSMC</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Typ: <span class="text-light/80 font-medium">dvou-vřetenové</span> soustružnické centrum</span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Průchod vřetene <span class="text-light/80 font-medium">65 mm</span> · max. ⌀ <span class="text-light/80 font-medium">300 mm</span> · délka <span class="text-light/80 font-medium">700 mm</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Poháněné nástroje · Y-osa <span class="text-light/80 font-medium">100 mm</span> · podavač tyčí</span></li>
              </ul>
            </div>
          </div>

          <!-- Stroj 3 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 200ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/freza-haas.png" alt="CNC frézka Haas DT-2" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">Haas DT-2</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Typ: kompaktní <span class="text-light/80 font-medium">vysokorychlostní</span> CNC frézka</span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Vřeteno BT30 · <span class="text-light/80 font-medium">10 000 rpm</span> · <span class="text-light/80 font-medium">20</span> nástrojů</span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Rychloposuvy <span class="text-light/80 font-medium">2 400 ipm</span> · vrtání a závitování</span></li>
              </ul>
            </div>
          </div>

          <!-- Stroj 4 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 300ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/ohranovaci-lis-HFP.png" alt="Ohraňovací lis Amada HRB 1003 ATC" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">Amada HFP-100.3 NTL</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Lisovací síla: <span class="text-light/80 font-medium">100 tun</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Délka ohybu <span class="text-light/80 font-medium">3 100 mm</span> · mezi sloupy <span class="text-light/80 font-medium">2 705 mm</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Zdvih <span class="text-light/80 font-medium">620 mm</span> · max. plech <span class="text-light/80 font-medium">4 mm</span> (S235)</span></li>
              </ul>
            </div>
          </div>

          <!-- Stroj 5 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 400ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/ohranovaci-lis-HFE.png" alt="Ohraňovací lis Amada HFE M2 5012" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">Amada HFE M2 5012</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Lisovací síla: <span class="text-light/80 font-medium">50 tun</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Délka ohybu <span class="text-light/80 font-medium">1 270 mm</span> · mezi sloupy <span class="text-light/80 font-medium">1 035 mm</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Zdvih <span class="text-light/80 font-medium">150 mm</span> · max. plech <span class="text-light/80 font-medium">4 mm</span> (S235)</span></li>
              </ul>
            </div>
          </div>

          <!-- Stroj 6 -->
          <div class="slide-in bg-dark border border-white/10 rounded-xl overflow-hidden group hover:border-brand/50 transition-colors" style="transition-delay: 500ms">
            <div class="aspect-video bg-dark-card flex items-center justify-center overflow-hidden">
              <img src="Obrázky/laserova-svarecka.png" alt="Laserový svařovací stroj" class="w-full h-full object-contain transition-transform duration-500 ease-out group-hover:scale-110">
            </div>
            <div class="p-5">
              <h3 class="font-semibold mb-3">BLW 1500</h3>
              <ul class="space-y-1.5 text-sm">
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Výkon: <span class="text-light/80 font-medium">1 500 W</span> laserový svařovací zdroj</span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Až <span class="text-light/80 font-medium">6× rychlejší</span> než TIG · od <span class="text-light/80 font-medium">0,2 mm</span></span></li>
                <li class="flex items-start gap-2"><span class="mt-1.5 w-1.5 h-1.5 rounded-full bg-brand shrink-0"></span><span class="text-light/50">Materiály: ocel, nerez, hliník, měď, titan</span></li>
              </ul>
            </div>
          </div>

        </div>
      </div>
    </section>

    <!-- Divider: machines → grants -->
    <div class="relative h-12 md:h-20 bg-dark">
      <svg class="absolute top-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 1200 120">
        <path d="M0,0 L1200,0 L1200,120 Z" fill="var(--color-bg-dark-alt)"/>
      </svg>
    </div>

    <!-- ========== DOTAČNÍ PROGRAMY ========== -->
    <section id="grants" class="py-20 lg:py-28">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="section-heading text-center mb-12">
          <h2 class="text-3xl sm:text-4xl font-bold">Dotační programy</h2>
          <div class="heading-line h-0.5 bg-brand mx-auto mt-3"></div>
        </div>

        <div class="max-w-4xl mx-auto bg-dark-alt border border-white/10 rounded-xl p-8 sm:p-10 flex flex-col sm:flex-row items-center gap-8">
          <div class="shrink-0">
            <img src="Obrázky/EU.png" alt="Vlajka Evropské unie" class="w-24 h-24 rounded-lg object-cover">
          </div>
          <div>
            <h3 class="text-xl font-semibold mb-3">Spolufinancováno Evropskou unií</h3>
            <p class="text-light/60 leading-relaxed">
              Naše společnost využívá prostředky z dotačních programů Evropské unie pro modernizaci
              strojového parku a zvyšování kvality výrobních procesů. Díky těmto investicím vám můžeme
              nabídnout nejmodernější technologie a nejvyšší kvalitu zpracování.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- Divider: grants → contact -->
    <div class="relative h-12 md:h-20 bg-dark-alt/50">
      <svg class="absolute top-0 w-full h-full" preserveAspectRatio="none" viewBox="0 0 1200 120">
        <path d="M1200,0 L0,0 L0,120 Z" fill="var(--color-bg-dark)"/>
      </svg>
    </div>

    <!-- ========== KONTAKT ========== -->
    <section id="contact" class="py-20 lg:py-28 bg-dark-alt/50">
      <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="section-heading text-center mb-12">
          <h2 class="text-3xl sm:text-4xl font-bold">Kontakt</h2>
          <div class="heading-line h-0.5 bg-brand mx-auto mt-3"></div>
        </div>

        <div class="grid grid-cols-1 lg:grid-cols-2 gap-10">

          <!-- Kontaktní údaje -->
          <div class="space-y-8">

            <!-- Osoby -->
            <div class="space-y-4">
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-brand" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15.75 6a3.75 3.75 0 11-7.5 0 3.75 3.75 0 017.5 0zM4.501 20.118a7.5 7.5 0 0114.998 0A17.933 17.933 0 0112 21.75c-2.676 0-5.216-.584-7.499-1.632z"/></svg>
                <h3 class="text-lg font-semibold text-brand">Kontaktní osoby</h3>
              </div>
              <div class="space-y-3">
                <div class="group flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-colors">
                  <svg class="w-4 h-4 text-light/40 group-hover:text-brand transition-colors shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/></svg>
                  <div>
                    <p class="font-medium">Hynek Tomek</p>
                    <a href="tel:+420603553073" class="text-light/60 group-hover:text-brand transition-colors text-sm">+420 603 553 073</a>
                  </div>
                </div>
                <div class="group flex items-center gap-3 p-3 rounded-lg hover:bg-white/5 transition-colors">
                  <svg class="w-4 h-4 text-light/40 group-hover:text-brand transition-colors shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 002.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 01-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 00-1.091-.852H4.5A2.25 2.25 0 002.25 4.5v2.25z"/></svg>
                  <div>
                    <p class="font-medium">Zdeněk Dlabaja</p>
                    <a href="tel:+420725970865" class="text-light/60 group-hover:text-brand transition-colors text-sm">+420 725 970 865</a>
                  </div>
                </div>
              </div>
            </div>

            <!-- Email -->
            <div>
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-5 h-5 text-brand" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M21.75 6.75v10.5a2.25 2.25 0 01-2.25 2.25h-15a2.25 2.25 0 01-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0019.5 4.5h-15a2.25 2.25 0 00-2.25 2.25m19.5 0v.243a2.25 2.25 0 01-1.07 1.916l-7.5 4.615a2.25 2.25 0 01-2.36 0L3.32 8.91a2.25 2.25 0 01-1.07-1.916V6.75"/></svg>
                <h3 class="text-lg font-semibold text-brand">E-mail</h3>
              </div>
              <a href="mailto:info@tomek-vyroba.cz" class="group inline-flex items-center gap-2 p-3 rounded-lg hover:bg-white/5 transition-colors">
                <svg class="w-4 h-4 text-light/40 group-hover:text-brand transition-colors shrink-0" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M13.5 6H5.25A2.25 2.25 0 003 8.25v10.5A2.25 2.25 0 005.25 21h10.5A2.25 2.25 0 0018 18.75V10.5m-10.5 6L21 3m0 0h-5.25M21 3v5.25"/></svg>
                <span class="text-light/60 group-hover:text-brand transition-colors">info@tomek-vyroba.cz</span>
              </a>
            </div>

            <!-- Adresy -->
            <div class="space-y-3">
              <div class="flex items-center gap-2">
                <svg class="w-5 h-5 text-brand" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M15 10.5a3 3 0 11-6 0 3 3 0 016 0z"/><path stroke-linecap="round" stroke-linejoin="round" d="M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1115 0z"/></svg>
                <h3 class="text-lg font-semibold text-brand">Adresy</h3>
              </div>
              <div class="p-3 rounded-lg hover:bg-white/5 transition-colors">
                <p class="text-sm text-light/40 mb-1">Sídlo</p>
                <p class="text-light/70">Ruprechtov 271, 683 04 Ruprechtov</p>
              </div>
              <div class="p-3 rounded-lg hover:bg-white/5 transition-colors">
                <p class="text-sm text-light/40 mb-1">Provozovna</p>
                <p class="text-light/70">Ruprechtov 271, 683 04 Ruprechtov</p>
              </div>
            </div>

            <!-- Provozní doba -->
            <div>
              <div class="flex items-center gap-2 mb-2">
                <svg class="w-5 h-5 text-brand" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M12 6v6h4.5m4.5 0a9 9 0 11-18 0 9 9 0 0118 0z"/></svg>
                <h3 class="text-lg font-semibold text-brand">Provozní doba</h3>
              </div>
              <p class="text-light/70 p-3">Po — Pá: 6:00 — 14:30</p>
            </div>

            <!-- IČO / DIČ -->
            <div class="flex gap-8">
              <div>
                <p class="text-sm text-light/40 mb-1">IČO</p>
                <p class="text-light/70 font-mono">09444530</p>
              </div>
              <div>
                <p class="text-sm text-light/40 mb-1">DIČ</p>
                <p class="text-light/70 font-mono">CZ09444530</p>
              </div>
            </div>
          </div>

          <!-- Mapa -->
          <div class="rounded-xl overflow-hidden border border-white/10 min-h-[400px]">
            <iframe
              title="Mapa — TOMEK výroba s.r.o., Ruprechtov 271"
              src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2607.0!2d16.858!3d49.318!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x4712943b0e2e1b7d%3A0x400af0f6614b1b0!2sRuprechtov+271%2C+683+04+Ruprechtov!5e0!3m2!1scs!2scz!4v1700000000000!5m2!1scs!2scz"
              width="100%"
              height="100%"
              style="border:0; min-height:400px;"
              allowfullscreen=""
              loading="lazy"
              referrerpolicy="no-referrer-when-downgrade"
            ></iframe>
          </div>
        </div>
      </div>
    </section>

  </main>

  <!-- ========== FOOTER ========== -->
  <footer class="border-t border-white/10 bg-dark py-12">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="grid grid-cols-1 md:grid-cols-3 gap-10">

        <!-- Info -->
        <div>
          <div class="flex items-center gap-3 mb-4">
            <img src="LOGO/logo.png" alt="TOMEK výroba s.r.o. logo" class="w-8 h-8 rounded-md">
            <span class="font-semibold">TOMEK výroba s.r.o.</span>
          </div>
          <p class="text-light/50 text-sm leading-relaxed">
            Průmyslová výroba dílců na míru. Laserové pálení, ohýbání, CNC obrábění, svařování a povrchové úpravy.
          </p>
        </div>

        <!-- Rychlé odkazy -->
        <div>
          <h4 class="font-semibold mb-4">Rychlé odkazy</h4>
          <ul class="space-y-2 text-sm">
            <li><a href="#about" class="text-light/50 hover:text-white transition-colors">O společnosti</a></li>
            <li><a href="#machines" class="text-light/50 hover:text-white transition-colors">Naše stroje</a></li>
            <li><a href="#grants" class="text-light/50 hover:text-white transition-colors">Dotační programy</a></li>
            <li><a href="#contact" class="text-light/50 hover:text-white transition-colors">Kontakt</a></li>
          </ul>
        </div>

        <!-- E-shop -->
        <div>
          <h4 class="font-semibold mb-4">Partnerský e-shop</h4>
          <p class="text-light/50 text-sm mb-3">Navštivte náš e-shop s nářadím a příslušenstvím.</p>
          <a
            href="https://www.tomek-naradi.cz"
            target="_blank"
            rel="noopener noreferrer"
            class="inline-flex items-center gap-2 text-brand hover:text-brand-light transition-colors text-sm font-medium"
          >
            Tomek-nářadí.cz
            <svg class="w-4 h-4" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3"/>
            </svg>
          </a>
        </div>

      </div>

      <div class="mt-10 pt-6 border-t border-white/10 text-center text-light/30 text-sm">
        &copy; 2026 TOMEK výroba s.r.o. Všechna práva vyhrazena.
      </div>
    </div>
  </footer>

  <!-- ========== KONTAKTNÍ MODAL ========== -->
  <div id="contact-modal-overlay" class="fixed inset-0 z-[100] flex items-center justify-center p-4 hidden" style="background: rgba(0,0,0,0.6); backdrop-filter: blur(4px);">
    <div id="contact-modal-box" class="bg-dark-alt border border-white/10 rounded-2xl w-full max-w-lg max-h-[90vh] overflow-y-auto p-6 sm:p-8 relative">
      <!-- Header -->
      <div class="flex items-center justify-between mb-6">
        <h2 class="text-xl sm:text-2xl font-bold">Kontaktujte nás</h2>
        <button onclick="closeContactModal()" class="p-1.5 text-light/50 hover:text-white transition-colors rounded-lg hover:bg-white/10 cursor-pointer" aria-label="Zavřít">
          <svg class="w-6 h-6" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" d="M6 18L18 6M6 6l12 12"/></svg>
        </button>
      </div>

      <!-- Form -->
      <form id="contact-form" class="space-y-5" novalidate>
        <!-- Jméno -->
        <div>
          <label for="cf-name" class="block text-sm font-medium text-light/70 mb-1.5">Jméno a příjmení <span class="text-brand">*</span></label>
          <input type="text" id="cf-name" name="name" required placeholder="Jan Novák"
            class="w-full px-4 py-2.5 bg-dark border border-white/15 rounded-lg text-light placeholder-light/30 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand transition-colors">
        </div>

        <!-- Email -->
        <div>
          <label for="cf-email" class="block text-sm font-medium text-light/70 mb-1.5">E-mail <span class="text-brand">*</span></label>
          <input type="email" id="cf-email" name="email" required placeholder="jan@firma.cz"
            class="w-full px-4 py-2.5 bg-dark border border-white/15 rounded-lg text-light placeholder-light/30 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand transition-colors">
        </div>

        <!-- Telefon -->
        <div>
          <label for="cf-phone" class="block text-sm font-medium text-light/70 mb-1.5">Telefon</label>
          <input type="tel" id="cf-phone" name="phone" placeholder="+420 123 456 789"
            class="w-full px-4 py-2.5 bg-dark border border-white/15 rounded-lg text-light placeholder-light/30 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand transition-colors">
        </div>

        <!-- Zpráva -->
        <div>
          <label for="cf-message" class="block text-sm font-medium text-light/70 mb-1.5">Zpráva <span class="text-brand">*</span></label>
          <textarea id="cf-message" name="message" required rows="4" placeholder="Popište vaši poptávku..."
            class="w-full px-4 py-2.5 bg-dark border border-white/15 rounded-lg text-light placeholder-light/30 focus:outline-none focus:border-brand focus:ring-1 focus:ring-brand transition-colors resize-y"></textarea>
        </div>

        <!-- PDF upload -->
        <div>
          <label class="block text-sm font-medium text-light/70 mb-1.5">Příloha (PDF, max 10 MB)</label>
          <div id="upload-zone" class="upload-zone rounded-lg p-6 text-center cursor-pointer">
            <input type="file" id="cf-file" name="attachment" accept=".pdf" class="hidden">
            <svg class="w-10 h-10 mx-auto mb-2 text-light/30" fill="none" stroke="currentColor" stroke-width="1.5" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" d="M12 16V4m0 0L8 8m4-4l4 4M4 17v2a2 2 0 002 2h12a2 2 0 002-2v-2"/>
            </svg>
            <p id="upload-text" class="text-sm text-light/40">Klikněte nebo přetáhněte PDF soubor</p>
            <p id="upload-filename" class="text-sm text-brand font-medium hidden"></p>
          </div>
          <p id="upload-error" class="text-sm text-brand mt-1.5 hidden"></p>
        </div>

        <!-- Submit -->
        <button type="submit" class="w-full py-3 bg-brand hover:bg-brand-hover text-white font-semibold rounded-lg transition-colors text-base cursor-pointer">
          Odeslat poptávku
        </button>
      </form>
    </div>
  </div>

  <!-- Back to top -->
  <button id="back-to-top" aria-label="Zpět nahoru"
    class="fixed bottom-6 right-6 z-50 w-11 h-11 bg-brand hover:bg-brand-hover text-white rounded-full shadow-lg flex items-center justify-center transition-all duration-300 opacity-0 translate-y-4 pointer-events-none">
    <svg class="w-5 h-5" fill="none" stroke="currentColor" stroke-width="2.5" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7"/>
    </svg>
  </button>

  <!-- ========== JAVASCRIPT ========== -->
  <script>
    const menuToggle = document.getElementById('menu-toggle');
    const mobileMenu = document.getElementById('mobile-menu');

    menuToggle.addEventListener('click', () => {
      const isOpen = !mobileMenu.classList.contains('hidden');
      mobileMenu.classList.toggle('hidden');
      menuToggle.classList.toggle('open', !isOpen);
      menuToggle.setAttribute('aria-expanded', !isOpen);
    });

    function closeMobileMenu() {
      mobileMenu.classList.add('hidden');
      menuToggle.classList.remove('open');
      menuToggle.setAttribute('aria-expanded', 'false');
    }

    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          entry.target.classList.add('visible');
          observer.unobserve(entry.target);
        }
      });
    }, { threshold: 0.15 });

    document.querySelectorAll('.slide-in, .section-heading').forEach(el => observer.observe(el));

    // ========== CONTACT MODAL ==========
    const modalOverlay = document.getElementById('contact-modal-overlay');
    const modalBox = document.getElementById('contact-modal-box');
    const contactForm = document.getElementById('contact-form');
    const uploadZone = document.getElementById('upload-zone');
    const fileInput = document.getElementById('cf-file');
    const uploadText = document.getElementById('upload-text');
    const uploadFilename = document.getElementById('upload-filename');
    const uploadError = document.getElementById('upload-error');

    function openContactModal() {
      modalOverlay.classList.remove('hidden', 'closing');
      document.body.style.overflow = 'hidden';
    }

    function closeContactModal() {
      modalOverlay.classList.add('closing');
      setTimeout(() => {
        modalOverlay.classList.add('hidden');
        modalOverlay.classList.remove('closing');
        document.body.style.overflow = '';
      }, 200);
    }

    // Close on overlay click
    modalOverlay.addEventListener('click', (e) => {
      if (e.target === modalOverlay) closeContactModal();
    });

    // Close on Escape
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && !modalOverlay.classList.contains('hidden')) {
        closeContactModal();
      }
    });

    // File upload — click
    uploadZone.addEventListener('click', () => fileInput.click());

    // File upload — drag & drop
    uploadZone.addEventListener('dragover', (e) => {
      e.preventDefault();
      uploadZone.classList.add('dragover');
    });
    uploadZone.addEventListener('dragleave', () => {
      uploadZone.classList.remove('dragover');
    });
    uploadZone.addEventListener('drop', (e) => {
      e.preventDefault();
      uploadZone.classList.remove('dragover');
      const file = e.dataTransfer.files[0];
      if (file) handleFileSelect(file);
    });

    // File input change
    fileInput.addEventListener('change', () => {
      if (fileInput.files[0]) handleFileSelect(fileInput.files[0]);
    });

    function handleFileSelect(file) {
      uploadError.classList.add('hidden');

      if (file.type !== 'application/pdf') {
        uploadError.textContent = 'Povolený formát je pouze PDF.';
        uploadError.classList.remove('hidden');
        fileInput.value = '';
        return;
      }

      const maxSize = 10 * 1024 * 1024; // 10 MB
      if (file.size > maxSize) {
        uploadError.textContent = 'Soubor je příliš velký (max. 10 MB).';
        uploadError.classList.remove('hidden');
        fileInput.value = '';
        return;
      }

      uploadText.classList.add('hidden');
      uploadFilename.textContent = file.name;
      uploadFilename.classList.remove('hidden');
    }

    // Form submit
    contactForm.addEventListener('submit', (e) => {
      e.preventDefault();

      // HTML5 validation
      if (!contactForm.checkValidity()) {
        contactForm.reportValidity();
        return;
      }

      // Visual confirmation
      const submitBtn = contactForm.querySelector('button[type="submit"]');
      const originalText = submitBtn.textContent;
      submitBtn.textContent = 'Odesláno!';
      submitBtn.disabled = true;
      submitBtn.classList.replace('bg-brand', 'bg-green-600');
      submitBtn.classList.replace('hover:bg-brand-hover', 'hover:bg-green-700');

      setTimeout(() => {
        submitBtn.textContent = originalText;
        submitBtn.disabled = false;
        submitBtn.classList.replace('bg-green-600', 'bg-brand');
        submitBtn.classList.replace('hover:bg-green-700', 'hover:bg-brand-hover');
        contactForm.reset();
        uploadText.classList.remove('hidden');
        uploadFilename.classList.add('hidden');
        closeContactModal();
      }, 1500);
    });

    // ========== COUNT-UP ANIMATION ==========
    const countElements = document.querySelectorAll('[data-count-target]');

    function animateCount(el) {
      const target = parseInt(el.dataset.countTarget, 10);
      const suffix = el.dataset.countSuffix;
      const duration = 2000;
      const parentDelay = parseFloat(el.parentElement.style.animationDelay) || 0;
      const waitMs = (parentDelay + 0.5) * 1000;

      setTimeout(() => {
        const start = performance.now();

        function update(now) {
          const elapsed = now - start;
          const progress = Math.min(elapsed / duration, 1);
          const eased = 1 - Math.pow(1 - progress, 3);
          const current = Math.round(eased * target);
          el.textContent = current + suffix;
          if (progress < 1) requestAnimationFrame(update);
        }

        requestAnimationFrame(update);
      }, waitMs);
    }

    const countObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCount(entry.target);
          countObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    countElements.forEach(el => countObserver.observe(el));

    // ========== SCROLL SPY ==========
    const navLinks = document.querySelectorAll('.nav-link');
    const sections = document.querySelectorAll('section[id]');

    const spyObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          const id = entry.target.id;
          navLinks.forEach(link => {
            link.classList.toggle('active', link.getAttribute('href') === '#' + id);
          });
        }
      });
    }, { rootMargin: '-50% 0px -50% 0px' });

    sections.forEach(section => spyObserver.observe(section));

    // ========== BACK TO TOP ==========
    const backToTop = document.getElementById('back-to-top');

    window.addEventListener('scroll', () => {
      if (window.scrollY > 400) {
        backToTop.classList.remove('opacity-0', 'translate-y-4', 'pointer-events-none');
        backToTop.classList.add('opacity-100', 'translate-y-0');
      } else {
        backToTop.classList.add('opacity-0', 'translate-y-4', 'pointer-events-none');
        backToTop.classList.remove('opacity-100', 'translate-y-0');
      }
    });

    backToTop.addEventListener('click', () => {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    });

    // ========== PARALLAX HERO ==========
    const heroBg = document.getElementById('hero-bg');
    const heroLines = document.getElementById('hero-lines');
    const heroSection = document.getElementById('hero');

    if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
      window.addEventListener('scroll', () => {
        const scrollY = window.scrollY;
        const heroHeight = heroSection.offsetHeight;
        if (scrollY <= heroHeight) {
          const offset = scrollY * 0.3;
          heroBg.style.transform = 'translateY(' + offset + 'px)';
          heroLines.style.transform = 'translateY(' + (offset * 0.6) + 'px)';
        }
      }, { passive: true });
    }
  </script>

</body>
</html>
